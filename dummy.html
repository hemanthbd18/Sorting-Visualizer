<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bubble Sort Visualizer</title>
    <link rel="stylesheet" href="styleee.css">
    <link rel="icon" href="LOGO.png" type="image/x-icon">
</head>
<body>
    <header>
        <h1>Bubble Sort </h1>
    </header>
    
    <main>
        <div id="array-container"></div>
        <div id="code-container">
            <h2>Code:</h2>
            <pre id="algorithm-code"></pre>
        </div>
    </main>
    
    <div class="controls">
        <button id="generate-array">Generate Array</button>
        <button id="start-sort">Start Bubble Sort</button>
        <button id="pause-resume">Pause</button>
        <label for="size-range">Array Size:</label>
        <input type="range" id="size-range" min="10" max="100" value="30">
        <label for="speed-range">Speed:</label>
        <input type="range" id="speed-range" min="50" max="1000" value="300">
        <label for="custom-array">Custom Array:</label>
        <input type="text" id="custom-array" placeholder="e.g., 10,20,30,40">
        <button id="set-array">Set Array</button>
        <button id="theme-toggle">Dark Mode</button>
       
        
        
    </div>
    
    <aside id="bubble-sort-info" class="info-panel">
        <h2>Bubble Sort</h2>
        <table>
            <tr><th>Case</th><th>Time Complexity</th><th>Space Complexity</th></tr>
            <tr><td>Best Case</td><td>O(n)</td><td>O(1)</td></tr>
            <tr><td>Average Case</td><td>O(n^2)</td><td>O(1)</td></tr>
            <tr><td>Worst Case</td><td>O(n^2)</td><td>O(1)</td></tr>
        </table>
        <div id="loop-indicator"></div>
        <div id="algorithm-explanation">
            <!-- <h3>Explanatio?n:</h3> -->
            <!-- <p>Bubble Sort is a simple sorting algorithm.<br>
                It compares adjacent elements and swaps them if they are in the wrong order.<br>
                This process repeats for every element until the array is sorted.<br>
               
                Suitable for small datasets but inefficient for large ones.</p> -->
            <!-- <p>Bubble Sort is a simple sorting algorithm that repeatedly steps through the list, compares adjacent elements, and swaps them if they are in the wrong order. The pass through the list is repeated until the list is sorted.</p> -->
           <h2> <p><strong>What is Bubble Sort?</strong></p><br></h2>
            <p>Bubble Sort is a way to arrange numbers (or items) in the right order. It compares two numbers at a time and swaps them if they are in the wrong order. This process is repeated until the entire list is sorted.</p>
        <br>
        <h2>    <p><strong>How Does It Work?</strong></p></h2>
            <p>1. Start at the beginning of the list.</p>
            <p>2. Compare the first two numbers. If the first number is bigger, swap them. If the first number is smaller or equal, leave them as they are.</p>
            <p>3. Move to the next pair and repeat.</p>
            <p>4. Keep doing this until you reach the end of the list. After this first pass, the biggest number will be at the end.</p>
            <p>5. Then, go back to the start, but ignore the last number (because it's already in the right place).</p>
            <p>6. Repeat until the whole list is sorted.</p><br>
        
           <h2> <p><strong>Example:</strong></p></h2>
            <p>Let's say we have this list of numbers:</p>
            <p><code>[5, 2, 9, 1, 5, 6]</code></p><br>
        
           <h3> <p><strong>First pass:</strong></p></h3>
            <p>1. Compare 5 and 2 → 5 is bigger, so swap them: <code>[2, 5, 9, 1, 5, 6]</code></p>
            <p>2. Compare 5 and 9 → no swap, because 5 is smaller than 9. <code>[2, 5, 9, 1, 5, 6]</code></p>
            <p>3. Compare 9 and 1 → 9 is bigger, so swap them: <code>[2, 5, 1, 9, 5, 6]</code></p>
            <p>4. Compare 9 and 5 → 9 is bigger, so swap them: <code>[2, 5, 1, 5, 9, 6]</code></p>
            <p>5. Compare 9 and 6 → 9 is bigger, so swap them: <code>[2, 5, 1, 5, 6, 9]</code></p>
            <p>Now the biggest number (9) is in the last spot.</p><br>
        
           <h3> <p><strong>Second pass:</strong></p></h3>
            <p>1. Compare 2 and 5 → no swap. <code>[2, 5, 1, 5, 6, 9]</code></p>
            <p>2. Compare 5 and 1 → 5 is bigger, so swap them: <code>[2, 1, 5, 5, 6, 9]</code></p>
            <p>3. Compare 5 and 5 → no swap. <code>[2, 1, 5, 5, 6, 9]</code></p>
            <p>4. Compare 5 and 6 → no swap. <code>[2, 1, 5, 5, 6, 9]</code></p>
            <p>Now, 6 is in its correct place.</p><br>
        
           <h3> <p><strong>Third pass:</strong></p></h3>
            <p>1. Compare 2 and 1 → 2 is bigger, so swap them: <code>[1, 2, 5, 5, 6, 9]</code></p>
            <p>2. Compare 2 and 5 → no swap. <code>[1, 2, 5, 5, 6, 9]</code></p>
            <p>Now the list is sorted!</p><br>
        
           <h3> <p><strong>Final sorted list:</strong></p></h3>
            <p><code>[1, 2, 5, 5, 6, 9]</code></p><br>
        
           <h3> <p><strong>Key Points:</strong></p></h3>
            <p>1. The biggest number "bubbles" up to the end of the list after each pass.</p>
            <p>2. It keeps doing this until the list is fully sorted.</p>
            <p>3. It’s simple but not the fastest for large lists.</p>
        
           
        </div>
    </aside>

    <script src="bubble.js"></script>
    <a href="index.html" style="text-decoration: none; padding: 10px 20px; background-color: #4CAF50; color: white; border-radius: 100px;">HOME</a>

</body>
<style>/* General Reset */
    * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
    }
    
    /* Body Styling */
    body {
        font-family: Arial, sans-serif;
        background: linear-gradient(45deg, #03060b, #2a5298);
        color: white;
        display: flex;
        flex-direction: column;
        align-items: center;
        min-height: 100vh;
    }
    
    /* Header Styling */
    header {
        margin: 20px 0;
        text-align: center;
    }
    
    header h1 {
        font-size: 2.5rem;
        color: #ffdd57;
    }
    
    /* Main Content Styling */
    main {
        display: flex;
        justify-content: center;
        align-items: flex-start;
        width: 90%;
        margin: 20px 0;
        gap: 20px;
    }
    
    #array-container {
        flex: 3;
        height: 400px;
        display: flex;
        align-items: flex-end;
        justify-content: center;
        background: rgba(223, 133, 133, 0.1);
        border: 2px solid rgb(199, 175, 175);
        border-radius: 8px;
        overflow: hidden;
    }
    
    .bar {
        background: #4caf50;
        margin: 0 2px;
        border-radius: 5px;
        transition: height 0.3s ease, background 0.3s ease;
    }
    
    .bar.active {
        background: #ff5722;
    }
    
    /* Code Container */
    #code-container {
        flex: 2;
        padding: 20px;
        background: rgba(0, 0, 0, 0.7);
        border-radius: 8px;
        height: 400px;
        overflow-y: auto;
        max-width: 500px;
    }
    
    /* Algorithm Code Styling */
    #algorithm-code {
        font-family: 'Courier New', Courier, monospace;
        font-size: 1rem;
        color: #00e676;
        white-space: pre-wrap;
        padding: 10px;
        line-height: 1.5;
    }
    
    #algorithm-code .highlight {
        background: #ffdd57;
        color: black;
        padding: 2px 4px;
        border-radius: 4px;
    }
    
    /* Controls Styling */
    .controls {
        display: flex;
        justify-content: center;
        align-items: center;
        gap: 15px;
        margin: 20px 0;
        width: 100%;
        max-width: 1000px;
        flex-wrap: wrap;
    }
    
    button, select, input[type="range"] {
        padding: 10px 15px;
        font-size: 1rem;
        border: none;
        border-radius: 100px;
        cursor: pointer;
        transition: background 0.3s ease;
    }
    
    button {
        background: #4caf50;
        color: white;
    }
    
    button:hover {
        background: #45a049;
    }
    
    input[type="range"] {
        width: 150px;
        background: transparent;
    }
    
    select {
        padding: 8px;
        background: #fff;
        border-radius: 5px;
        border: none;
    }
    
    /* Info Panel Styling */
    .info-panel {
        background: rgba(0, 0, 0, 0.1);
        /* border: 2px solid white; */
        border-radius: 10px;
        padding: 20px;
        width: 100%;
        max-width: 1000px;
        /* text-align: center; */
        margin: 10px 0;
    }
    
    .info-panel h2 {
        font-size: 1.5rem;
        margin-bottom: 10px;
        color: #ffdd57;
    }
    
    .info-panel table {
        width: 100%;
        border-collapse: collapse;
        margin: 10px 0;
        color: white;
    }
    
    .info-panel table th, .info-panel table td {
        padding: 15px;
        border: 1px solid white;
        text-align: center;
    }
    
    /* Loop Indicator Styling */
    #loop-indicator {
        margin: 10px 0;
        font-size: 1.1rem;
        color: #00e676;
    }
    
    #algorithm-explanation h3 {
        margin-bottom: 5px;
        font-size: 1.3rem;
        
    }
    
    /* Dark Mode and Light Mode Styles */
    body.light-mode {
        background: white;
        color: black;
    }
    
    body.light-mode header h1 {
        color: #007bff;
    }
    
    body.light-mode .controls button {
        background: #007bff;
        color: white;
    }
    
    body.light-mode .info-panel {
        background: rgba(0, 0, 0, 0.1);
    }
    
    /* Highlight Sorted Bars */
    .bar.sorted {
        background: #00e676;
    }
    
    /* Custom Array Input Styling */
    #custom-array {
        padding: 5px;
        width: 150px;
        border-radius: 5px;
        border: 1px solid #ccc;
    }
    
    /* Theme Toggle */
    #theme-toggle {
        background: #ff5722;
        color: white;
    }
    
    /* General code styling */
    .code-container {
        font-family: 'Courier New', Courier, monospace;
        white-space: pre-wrap; /* Allows code to wrap if it exceeds container width */
        background-color: #f4f4f4;
        padding: 10px;
        border-radius: 8px;
        border: 1px solid #ddd;
        margin: 20px 0;
    }
    
    /* Style the language selector */
    #language-selector {
        margin: 10px;
        padding: 5px;
    }
    
    /* Dark Mode */
    body.dark-mode {
        background-color: #121212;
        color: #ffffff;
    }
    
    button.dark-mode {
        background-color: #333;
        color: #fff;
    }
    
    /* Highlight the current executing line in the code */
    .highlight {
        background-color: #ffeb3b; /* Highlight color */
        font-weight: bold;
        color: #000; /* Black text on highlighted background */
    }
    
    /* General Styling for Theme Toggle Button */
    #theme-toggle {
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 10px 15px;
        background: #ff5722;
        border-radius: 50px;
        cursor: pointer;
        transition: background 0.3s ease;
        color: white;
        border: none;
    }
    
    #theme-toggle:hover {
        background-color: #e64a19;
    }
    
    body.dark-mode #theme-toggle {
        background-color: #4caf50;
    }
    
    body.light-mode #theme-toggle {
        background-color: #007bff;
    }
    
    #theme-toggle {
        display: none;
    }
    </style>
<script>const arrayContainer = document.getElementById("array-container");
    const generateArrayButton = document.getElementById("generate-array");
    const startSortButton = document.getElementById("start-sort");
    const speedRange = document.getElementById("speed-range");
    const sizeRange = document.getElementById("size-range");
    const setArrayButton = document.getElementById("set-array");
    const customArrayInput = document.getElementById("custom-array");
    const themeToggleButton = document.getElementById("theme-toggle");
    const algorithmCode = document.getElementById("algorithm-code");
    const loopIndicator = document.getElementById("loop-indicator");
    const pauseResumeButton = document.getElementById("pause-resume");
    const languageSelector = document.getElementById("language-selector");
    
    let array = [];
    let delay = parseInt(speedRange.value);
    let isPaused = false; // Tracks pause state
    let isSorting = false; // Tracks whether sorting is in progress
    
    // Audio setup
    const comparisonSound = new Audio("https://freesound.org/data/previews/151/151022_2437354-lq.mp3");
    const swapSound = new Audio("https://freesound.org/data/previews/131/131657_2398406-lq.mp3");
    
    function playSound(sound) {
        sound.currentTime = 0;
        sound.play();
    }
    
    // Code Snippets for Bubble Sort in C, C++, and Java
    const codeSnippets = {
        Cpp: [
            "void bubbleSort(vector<int>& arr) {",
            "    int n = arr.size();",
            "    for (int i = 0; i < n-1; i++) {",
            "        for (int j = 0; j < n-i-1; j++) {",
            "            if (arr[j] > arr[j+1]) {",
            "                swap(arr[j], arr[j+1]);",
            "            }",
            "        }",
            "    }",
            "}"
        ],
    };
    
    // Current language selected
    let currentLanguage = "Cpp";
    
    function highlightCodeLine(indices) {
        if (!Array.isArray(indices)) indices = [indices];
        const highlightedCode = codeSnippets[currentLanguage]
            .map((line, i) => 
                indices.includes(i) ? `<span class="highlight">${line}</span>` : line
            )
            .join("\n");
        algorithmCode.innerHTML = highlightedCode;
    }
    
    // Generate Random Array
    function generateRandomArray(size = 30) {
        arrayContainer.innerHTML = '';
        array = Array.from({ length: size }, () => Math.floor(Math.random() * 100) + 1);
        array.forEach(value => {
            const bar = document.createElement("div");
            bar.classList.add("bar");
            bar.style.height = `${value * 3}px`;
            bar.style.width = `${100 / size}%`;
            const number = document.createElement("span");
            number.textContent = value; // Set the number to the bar value
            bar.appendChild(number); // Append the number inside the bar
            arrayContainer.appendChild(bar);
        });
        highlightCodeLine(-1); // Reset code highlighting
    }
    
    // Custom Array Input
    function setCustomArray(input) {
        const customValues = input.split(',').map(num => parseInt(num.trim())).filter(Boolean);
        if (customValues.length) {
            array = customValues;
            generateCustomArray();
        }
    }
    
    function generateCustomArray() {
        arrayContainer.innerHTML = '';
        array.forEach(value => {
            const bar = document.createElement("div");
            bar.classList.add("bar");
            bar.style.height = `${value * 3}px`;
            bar.style.width = `${100 / array.length}%`;
            const number = document.createElement("span");
            number.textContent = value; // Set the number to the bar value
            bar.appendChild(number); // Append the number inside the bar
            arrayContainer.appendChild(bar);
        });
        highlightCodeLine(-1); // Reset code highlighting
    }
    
    // Pause/Resume Functionality
    function togglePause() {
        if (!isSorting) return; // Prevent pausing if not sorting
        isPaused = !isPaused;
        pauseResumeButton.textContent = isPaused ? "Resume" : "Pause";
    }
    
    // Helper function to handle pause
    async function waitIfPaused() {
        while (isPaused) {
            await new Promise(resolve => setTimeout(resolve, 100));
        }
    }
    
    async function bubbleSort() {
        if (isSorting) return; // Prevent multiple simultaneous sorts
        isSorting = true;
        pauseResumeButton.disabled = false; // Enable Pause button
    
        const bars = document.querySelectorAll(".bar");
        for (let i = 0; i < array.length; i++) {
            highlightCodeLine(2); // Highlight outer loop (start of function)
            await waitIfPaused(); // Check pause state
            await new Promise(resolve => setTimeout(resolve, delay));
    
            for (let j = 0; j < array.length - i - 1; j++) {
                highlightCodeLine(3); // Highlight inner loop
                await waitIfPaused(); // Check pause state
                await new Promise(resolve => setTimeout(resolve, delay));
    
                loopIndicator.textContent = `Comparing index ${j} and ${j + 1}`;
                bars[j].classList.add("active");
                bars[j + 1].classList.add("active");
                playSound(comparisonSound);
    
                if (array[j] > array[j + 1]) {
                    highlightCodeLine([5, 6]); // Highlight swap lines together
                    await waitIfPaused(); // Check pause state
    
                    // Swap values in array
                    [array[j], array[j + 1]] = [array[j + 1], array[j]];
    
                    // Update bar heights and numbers
                    bars[j].style.height = `${array[j] * 3}px`;
                    bars[j + 1].style.height = `${array[j + 1] * 3}px`;
                    bars[j].querySelector("span").textContent = array[j];
                    bars[j + 1].querySelector("span").textContent = array[j + 1];
    
                    playSound(swapSound);
                }
    
                await new Promise(resolve => setTimeout(resolve, delay));
                bars[j].classList.remove("active");
                bars[j + 1].classList.remove("active");
            }
    
            bars[array.length - i - 1].classList.add("sorted");
            highlightCodeLine(7); // Highlight end of inner loop
        }
        loopIndicator.textContent = "Array is sorted!";
        highlightCodeLine(8); // Highlight end of function
        isSorting = false;
        pauseResumeButton.disabled = true; // Disable Pause button after sorting
    }
    
    // Theme Toggle (Dark Mode)
    function toggleTheme() {
        document.body.classList.toggle("dark-mode"); // Toggle dark mode
        themeToggleButton.style.display = "block"; // Show the button when in dark mode
    }
    
    // Language Selector
    function changeLanguage(language) {
        currentLanguage = language;
        highlightCodeLine(-1); // Reset code highlighting when language changes
    }
    
    // Event Listeners
    generateArrayButton.addEventListener("click", () => generateRandomArray(parseInt(sizeRange.value)));
    sizeRange.addEventListener("input", () => generateRandomArray(parseInt(sizeRange.value)));
    speedRange.addEventListener("input", () => delay = parseInt(speedRange.value));
    setArrayButton.addEventListener("click", () => setCustomArray(customArrayInput.value));
    startSortButton.addEventListener("click", bubbleSort);
    themeToggleButton.addEventListener("click", toggleTheme);
    pauseResumeButton.addEventListener("click", togglePause);
    languageSelector.addEventListener("change", (e) => changeLanguage(e.target.value));
    
    // Initialize
    generateRandomArray(30);
    highlightCodeLine(-1);
    pauseResumeButton.disabled = true; // Disable Pause button initially
</script>    
</html>
